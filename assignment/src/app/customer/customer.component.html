<div class="container-fluid">
  <div class="row pt-3">
    <div class="col-lg-8 offset-lg-2">
      <h4
        class="text-center py-2 mb-0"
        style="background-color: #003366; color: #d3d3d3"
      >
        Create Customer
      </h4>
      <form
        [formGroup]="customerForm"
        (ngSubmit)="submit()"
        class="border rounded p-3 bg-white"
      >
        <div class="form-group row">
          <label for="title" class="col-sm-2 col-form-label"
            >Title<span class="text-danger"> *</span> :</label
          >
          <div class="col-sm-10">
            <input
              formControlName="title"
              id="title"
              type="text"
              class="form-control"
              placeholder="Enter title"
              required
            />
            <div
              class="text-danger py-2"
              *ngIf="
                customerForm.get('title').errors &&
                customerForm.get('title').touched
              "
            >
              Title is required
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="email" class="col-sm-2"
            >Email<span class="text-danger"> *</span> :</label
          >
          <div class="col-sm-10">
            <input
              formControlName="email"
              id="email"
              type="email"
              class="form-control"
              placeholder="Enter email"
              required
            />

            <div
              *ngIf="
                customerForm.get('email').errors &&
                customerForm.get('email').touched
              "
              class="text-danger py-2"
            >
              <div *ngIf="customerForm.get('email').errors['required']">
                Email is required
              </div>
              <div *ngIf="customerForm.get('email').errors['email']">
                Invalid email format
              </div>
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="region" class="col-sm-2"
            >Region<span class="text-danger"> *</span> :</label
          >
          <div class="col-sm-10">
            <ngx-select
              [items]="uniqueRegionsArray"
              formControlName="region"
              (select)="filterCountries($event)"
              placeholder="Select region"
              required
            ></ngx-select>
            <div
              class="text-danger"
              *ngIf="
                customerForm.get('region').errors &&
                (customerForm.get('region').dirty ||
                  customerForm.get('region').touched)
              "
            >
              Region is required
            </div>
          </div>
        </div>
        <div class="form-group row">
          <label for="country" class="col-sm-2"
            >Country<span class="text-danger"> *</span> :</label
          >
          <div class="col-sm-10">
            <ngx-select
              [items]="countryList"
              formControlName="country"
              placeholder="Select country"
              required
            ></ngx-select>
            <div
              class="text-danger"
              *ngIf="
                customerForm.get('country').errors &&
                (customerForm.get('country').dirty ||
                  customerForm.get('country').touched)
              "
            >
              Country is required
            </div>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-auto">
            <button
              type="button"
              class="btn btn-secondary cancel-btn"
              (click)="clearForm()"
            >
              Cancel
            </button>
          </div>
          <div class="col-auto">
            <button
              type="submit"
              [disabled]="customerForm.invalid"
              class="save-btn"
            >
              Save
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
